<div class="admin-page-container fade-in">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="glass-form-panel p-4 p-md-5" style="border-top: 4px solid #00ff9d !important;">
                    <!-- Custom Override for Green Theme -->

                    <!-- Form Header -->
                    <div class="d-flex justify-content-between align-items-start mb-5">
                        <div>
                            <h6 class="text-uppercase tracking-widest text-success mb-2">Infrastructure</h6>
                            <h2 class="text-white neon-text display-6 fw-bold mb-0">Install Screen</h2>
                        </div>
                        <i class="bi bi-display display-3 text-white-50 opacity-25"></i>
                    </div>

                    <!-- Alerts -->
                    <div *ngIf="successMessage" class="alert-cyber success mb-4">
                        <i class="bi bi-check-circle-fill me-2"></i> {{ successMessage }}
                    </div>
                    <div *ngIf="errorMessage" class="alert-cyber error mb-4">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i> {{ errorMessage }}
                    </div>

                    <form [formGroup]="screenForm" (ngSubmit)="onSubmit()">

                        <!-- Section 1: Location -->
                        <h5 class="section-label">Theatre Site</h5>
                        <div class="row g-4 mb-4">
                            <div class="col-12">
                                <div class="form-group-premium">
                                    <label class="premium-label">Select Theatre Location</label>
                                    <select class="form-control-premium" formControlName="theatreId">
                                        <option value="" disabled selected>Choose a Theatre</option>
                                        <option *ngFor="let theatre of theatres" [value]="theatre.id">{{ theatre.name
                                            }}, {{ theatre.city }}</option>
                                    </select>
                                    <div class="input-focus-line" style="background: #00ff9d;"></div>
                                </div>
                                <div *ngIf="screenForm.get('theatreId')?.touched && screenForm.get('theatreId')?.invalid"
                                    class="text-neon-red small mt-2">
                                    <i class="bi bi-x-circle me-1"></i> Theatre selection is mandatory.
                                </div>
                            </div>
                        </div>

                        <!-- Section 2: Config -->
                        <h5 class="section-label mt-5">Screen Configuration</h5>
                        <div class="row g-4 mb-5">
                            <div class="col-md-7">
                                <div class="form-group-premium">
                                    <label class="premium-label">Screen Name / ID</label>
                                    <input type="text" class="form-control-premium" formControlName="screenName"
                                        placeholder="e.g. IMAX Hall 1">
                                    <div class="input-focus-line" style="background: #00ff9d;"></div>
                                </div>
                            </div>

                            <div class="col-md-5">
                                <div class="form-group-premium">
                                    <label class="premium-label">Seating Capacity</label>
                                    <input type="number" class="form-control-premium" formControlName="totalSeats"
                                        placeholder="150">
                                    <div class="input-focus-line" style="background: #00ff9d;"></div>
                                </div>
                                <div class="text-white-50 small mt-2">
                                    <i class="bi bi-info-circle me-1"></i> Auto-generates tiers.
                                </div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="d-flex justify-content-end gap-3 pt-4 border-top border-secondary">
                            <button type="button" routerLink="/admin/dashboard"
                                class="btn btn-outline-light px-4">Cancel</button>
                            <button type="submit" class="btn-neon-green px-5"
                                [disabled]="screenForm.invalid || loading">
                                <span class="d-flex align-items-center" *ngIf="!loading">
                                    <i class="bi bi-display me-2"></i> Install Screen
                                </span>
                                <span *ngIf="loading">Processing...</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Local overrides for Green Theme specific to this page */
    .btn-neon-green {
        background: linear-gradient(45deg, #00ff9d, #00cc7e);
        border: none;
        border-radius: 8px;
        color: #000;
        font-weight: 700;
        padding: 12px 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 4px 15px rgba(0, 255, 157, 0.4);
        transition: all 0.3s ease;
    }

    .btn-neon-green:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 255, 157, 0.6);
        color: #000;
    }

    .btn-neon-green:disabled {
        background: #444;
        cursor: not-allowed;
        box-shadow: none;
    }
</style>